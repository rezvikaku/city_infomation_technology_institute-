<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рж╕рж┐ржЯрж┐ ржЗржиржлрж░ржорзЗрж╢ржи ржЯрзЗржХржирзЛрж▓ржЬрж┐ ржЗржирзНрж╕ржЯрж┐ржЯрж┐ржЙржЯ - ржнрж░рзНрждрж┐ ржЪрж▓ржЫрзЗ</title>
    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, getDoc, updateDoc, collection, query, orderBy, limit, onSnapshot, addDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        // Firestore рж▓ржЧрж┐ржВ ржбрж┐ржмрж╛ржЧ ржорзЛржбрзЗ рж╕рзЗржЯ ржХрж░рж╛ рж╣рж▓рзЛ
        setLogLevel('Debug');

        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');

        // ржЧрзНрж▓рзЛржмрж╛рж▓ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ рж╕рзЗржЯ ржХрж░рж╛
        window.db = null;
        window.auth = null;

        if (Object.keys(firebaseConfig).length > 0) {
            const app = initializeApp(firebaseConfig);
            window.db = getFirestore(app);
            window.auth = getAuth(app);
            window.appId = appId; // ржЕрзНржпрж╛ржк ржЖржЗржбрж┐ ржЧрзНрж▓рзЛржмрж╛рж▓ ржХрж░рж╛ рж╣рж▓рзЛ
        } else {
            console.error("Firebase Configuration is missing.");
        }

        // Auth Listener ржПржмржВ ржЗржирж┐рж╢рж┐ржпрж╝рж╛рж▓рж╛ржЗржЬрзЗрж╢ржи
        window.isAuthReady = false;
        window.currentUserId = null;
        window.currentUserRole = 'guest';
        window.currentUserName = 'Guest';

        if (window.auth) {
            onAuthStateChanged(window.auth, async (user) => {
                if (user) {
                    window.currentUserId = user.uid;
                    // ржЗржЙржЬрж╛рж░ рж░рзЛрж▓ ржПржмржВ ржирж╛ржо Firestore ржерзЗржХрзЗ рж▓рзЛржб ржХрж░рж╛
                    const userRef = doc(window.db, `artifacts/${window.appId}/users/${user.uid}/user_data/profile`);
                    const docSnap = await getDoc(userRef);
                    
                    if (docSnap.exists() && !user.isAnonymous) {
                        const data = docSnap.data();
                        window.currentUserRole = data.role || 'student';
                        window.currentUserName = data.name || user.email.split('@')[0];
                        
                    } else if (user.isAnonymous) {
                        window.currentUserRole = 'guest';
                        window.currentUserName = 'Guest';
                    } else {
                        // ржпржжрж┐ ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржбрзЗржЯрж╛ ржирж╛ ржерж╛ржХрзЗ, ржбрж┐ржлрж▓рзНржЯ рж░рзЛрж▓ 'student'
                        window.currentUserRole = 'student';
                        window.currentUserName = user.email ? user.email.split('@')[0] : 'User';
                    }
                    console.log("Logged in user:", user.uid, "Role:", window.currentUserRole, "Name:", window.currentUserName);
                } else {
                    window.currentUserId = crypto.randomUUID(); // ржЖржиржЕржерзЗржирзНржЯрж┐ржХрзЗржЯрзЗржб ржЗржЙржЬрж╛рж░
                    window.currentUserRole = 'guest';
                    window.currentUserName = 'Guest';
                    console.log("User is signed out or anonymous.");
                }
                window.isAuthReady = true;
                updateUIForUser(); // UI ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣рж▓рзЛ
            });

            // ржХрж╛рж╕рзНржЯржо ржЯрзЛржХрзЗржи ржмрж╛ ржЕрзНржпрж╛ржирзЛржирж┐ржорж╛рж╕ рж╕рж╛ржЗржи-ржЗржи
            const initAuth = async () => {
                try {
                    if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                        await signInWithCustomToken(window.auth, __initial_auth_token);
                    } else {
                        await signInAnonymously(window.auth);
                    }
                } catch (error) {
                    console.error("Initial authentication failed:", error);
                }
            };
            initAuth();
        }
    </script>
    <!-- Tailwind CSS рж▓рзЛржб ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome (Facebook icon ржПрж░ ржЬржирзНржп) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Baloo+Da+2:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* ржлржирзНржЯ рж╕рзЗржЯ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ: ржмрж╛ржВрж▓рж╛ рж▓рзЗржЦрж╛рж░ ржЬржирзНржп 'Baloo Da 2' ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рж▓рзЛ */
        body {
            font-family: 'Baloo Da 2', 'Inter', sans-serif;
            background-color: #f7f9fb;
        }
        .section-header {
            border-bottom: 4px solid #10b981; /* Emerald-500 */
            padding-bottom: 8px;
            display: inline-block;
            margin-bottom: 20px;
        }
        /* ржХрж╛рж╕рзНржЯржо ржЕрзНржпрж╛ржирж┐ржорзЗрж╢ржирзЗрж░ ржЬржирзНржп рж╕рзНржЯрж╛ржЗрж▓ */
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .fade-in.appear {
            opacity: 1;
            transform: translateY(0);
        }
        .card-hover:hover {
            transform: translateY(-5px);
            transition: transform 0.3s ease;
        }
        .animate-hero {
            animation: fadeInDown 1s ease-out;
        }
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                transform: translateY(0);
            }
        }
        /* ржоржбрж╛рж▓ рж╕рзНржЯрж╛ржЗрж▓ */
        .modal {
            display: none; /* ржбрж┐ржлрж▓рзНржЯржнрж╛ржмрзЗ рж▓рзБржХрж╛ржирзЛ */
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
            padding-top: 60px;
        }
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto; 
            padding: 30px;
            border-radius: 12px;
            width: 90%; 
            max-width: 500px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close-btn:hover,
        .close-btn:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
        /* Loader style for AI button */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #10b981; /* Emerald-500 */
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* ржЧрзНржпрж╛рж▓рж╛рж░рж┐ ржХрзНржпрж╛ржкрж╢ржирзЗрж░ ржЙржЪрзНржЪрждрж╛ рж╕рзНржерж┐рж░ рж░рж╛ржЦрж╛ */
        .gallery-card {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 280px; /* ржХрж╛рж░рзНржбрзЗрж░ ржирзНржпрзВржирждржо ржЙржЪрзНржЪрждрж╛ рж╕рзНржерж┐рж░ рж░рж╛ржЦрж╛ рж╣рж▓рзЛ */
        }
        .gallery-description {
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        /* ржПржЖржЗ ржЪрзНржпрж╛ржЯ ржмржХрзНрж╕ рж╕рзНржЯрж╛ржЗрж▓ */
        .chat-container {
            height: 400px;
            overflow-y: auto;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            background-color: #f8fafc;
            padding: 10px;
        }
        .chat-message {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 10px;
            max-width: 80%;
        }
        .user-message {
            background-color: #3b82f6; /* Blue-500 */
            color: white;
            margin-left: auto;
            text-align: right;
        }
        .ai-message {
            background-color: #ecfdf5; /* Emerald-50 */
            color: #065f46; /* Emerald-700 */
            margin-right: auto;
            text-align: left;
            border: 1px solid #a7f3d0;
        }
    </style>
</head>
<body>

    <!-- рж╣рзЗржбрж╛рж░/ржирзЗржнрж┐ржЧрзЗрж╢ржи ржмрж╛рж░ -->
    <header class="bg-indigo-700 text-white shadow-lg sticky top-0 z-10">
        <div class="container mx-auto p-4 flex justify-between items-center">
            <!-- рж▓рзЛржЧрзЛ: рж╢рзБржзрзБржорж╛рждрзНрж░ ржкрзВрж░рзНржг ржирж╛ржо ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ -->
            <a href="#home" class="flex items-center hover:text-amber-300 transition duration-300">
                <div class="leading-tight text-left">
                    <h1 class="text-lg md:text-xl font-extrabold text-amber-400">
                        рж╕рж┐ржЯрж┐ ржЗржиржлрж░ржорзЗрж╢ржи ржЯрзЗржХржирзЛрж▓ржЬрж┐ ржЗржирзНрж╕ржЯрж┐ржЯрж┐ржЙржЯ
                    </h1>
                    <p class="text-xs text-indigo-200 block">
                        рж╕рзНржХрзБрж▓ ржПржирзНржб ржХрж▓рзЗржЬ | рж╕рзНржерж╛ржкрж┐ржд рзирзжрззрзз (рззрзк ржмржЫрж░рзЗрж░ ржкржержЪрж▓рж╛)
                    </p>
                </div>
            </a>
            <nav class="flex space-x-2 md:space-x-6 text-lg items-center">
                <!-- рж░рзЗрж╕ржкржирж╕рж┐ржн ржирзЗржнрж┐ржЧрзЗрж╢ржи рж▓рж┐ржВржХрж╕ -->
                <a href="#home" class="hidden md:block hover:text-amber-300 transition duration-300">рж╣рзЛржо</a>
                <a href="#courses" class="hidden md:block hover:text-amber-300 transition duration-300">ржХрзЛрж░рзНрж╕рж╕ржорзВрж╣</a>
                <a href="#features" class="hidden md:block hover:text-amber-300 transition duration-300">ржмрзИрж╢рж┐рж╖рзНржЯрзНржп</a>
                <a href="#contact" class="hidden md:block hover:text-amber-300 transition duration-300">ржпрзЛржЧрж╛ржпрзЛржЧ</a>
                
                <!-- ржЗржЙржЬрж╛рж░ ржЕрзНржпрж╛ржХрж╢ржи ржмрж╛ржЯржи -->
                <div id="auth-buttons" class="flex items-center">
                    <button id="signup-btn" class="bg-green-500 text-white px-3 py-1 rounded-full font-bold hover:bg-green-400 transition duration-300 text-sm md:text-base">
                        рж╕рж╛ржЗржиржЖржк
                    </button>
                    <button id="login-btn" class="bg-amber-400 text-indigo-900 px-3 py-1 rounded-full font-bold hover:bg-amber-300 transition duration-300 text-sm md:text-base ml-2">
                        рж▓ржЧржЗржи
                    </button>
                </div>

                <!-- рж▓ржЧржЗржи ржХрж░рж╛рж░ ржкрж░ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб ржУ рж╕рж╛ржЗржиржЖржЙржЯ -->
                <div id="user-info" class="hidden items-center">
                    <span id="welcome-message" class="text-amber-300 text-sm md:text-base mr-3"></span>
                    <button id="signout-btn" class="bg-red-500 text-white px-3 py-1 rounded-full font-bold hover:bg-red-400 transition duration-300 text-sm md:text-base">
                        рж╕рж╛ржЗржиржЖржЙржЯ
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <!-- рж▓ржЧржЗржи/рж╕рж╛ржЗржиржЖржк ржоржбрж╛рж▓ (Modal) -->
    <div id="auth-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h4 id="auth-title" class="text-2xl font-bold text-indigo-700 mb-4 text-center">ржЗржЙржЬрж╛рж░ рж╕рж╛ржЗржиржЖржк</h4>
            <p id="auth-error" class="text-red-500 text-center mb-3 hidden"></p>

            <form id="auth-form" class="space-y-4">
                <div>
                    <label for="auth-name" class="block text-gray-700 font-semibold mb-1">ржирж╛ржо:</label>
                    <input type="text" id="auth-name" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="ржЖржкржирж╛рж░ ржкрзБрж░рзЛ ржирж╛ржо" required>
                </div>
                <div>
                    <label for="auth-email" class="block text-gray-700 font-semibold mb-1">ржЗржорзЗржЗрж▓:</label>
                    <input type="email" id="auth-email" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                </div>
                <div>
                    <label for="auth-password" class="block text-gray-700 font-semibold mb-1">ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб:</label>
                    <input type="password" id="auth-password" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                </div>
                
                <div id="role-selection">
                    <p class="text-gray-700 font-semibold mb-2">ржЖржкржирж╛рж░ ржнрзВржорж┐ржХрж╛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи:</p>
                    <div class="flex space-x-4">
                        <label class="inline-flex items-center">
                            <input type="radio" name="userRole" value="student" checked class="form-radio text-indigo-600 h-5 w-5">
                            <span class="ml-2 text-gray-700">рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА</span>
                        </label>
                        <label class="inline-flex items-center">
                            <input type="radio" name="userRole" value="teacher" class="form-radio text-indigo-600 h-5 w-5">
                            <span class="ml-2 text-gray-700">рж╢рж┐ржХрзНрж╖ржХ</span>
                        </label>
                    </div>
                </div>

                <!-- ржЕрждрж┐рж░рж┐ржХрзНржд ржлрж┐рж▓рзНржб рж╢рзБржзрзБржорж╛рждрзНрж░ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАрж░ ржЬржирзНржп -->
                <div id="extra-signup-fields" class="space-y-4">
                    <p class="text-sm font-bold text-indigo-600">рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАржжрзЗрж░ ржЬржирзНржп ржЖржмрж╢рзНржпржХрзАржпрж╝ рждржерзНржп:</p>
                    <div>
                        <label for="auth-board-id" class="block text-gray-700 font-semibold mb-1">ржмрзЛрж░рзНржб ржЖржЗржбрж┐ (Board ID):</label>
                        <input type="text" id="auth-board-id" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="ржпрзЗржоржи: 123456">
                    </div>
                    <div>
                        <label for="auth-birth-id" class="block text-gray-700 font-semibold mb-1">ржЬржирзНржо ржирж┐ржмржирзНржзржи ржиржорзНржмрж░ (Birth ID):</label>
                        <input type="text" id="auth-birth-id" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="ржпрзЗржоржи: 2005xxxxxxxxxxxxxxx">
                    </div>
                </div>

                <!-- ржХрзНржпрж╛ржкржЪрж╛ рж╕рзЗржХрж╢ржи рж╢рзБржзрзБржорж╛рждрзНрж░ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАрж░ ржЬржирзНржп -->
                <div id="captcha-section" class="bg-gray-100 p-3 rounded-lg">
                    <label for="captcha-answer" class="block text-gray-700 font-semibold mb-1">
                        ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржЖржкржирж┐ рж░рзЛржмржЯ ржиржи: <span id="captcha-question" class="font-bold text-indigo-700 text-xl"></span>
                    </label>
                    <input type="number" id="captcha-answer" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="ржпрзЛржЧржлрж▓ рж▓рж┐ржЦрзБржи">
                </div>
                <!-- ржЕрждрж┐рж░рж┐ржХрзНржд ржлрж┐рж▓рзНржб рж╢рзЗрж╖ -->

                <button type="submit" id="auth-submit" class="w-full bg-indigo-600 text-white p-3 rounded-lg font-bold hover:bg-indigo-500 transition duration-300 flex items-center justify-center">
                    <span id="auth-spinner" class="hidden loader mr-2"></span>
                    <span id="auth-submit-text">рж╕рж╛ржЗржиржЖржк ржХрж░рзБржи</span>
                </button>
            </form>
        </div>
    </div>

    <!-- рж╣рж┐рж░рзЛ рж╕рзЗржХрж╢ржи -->
    <section id="home" class="bg-indigo-600 text-white py-16 md:py-24 animate-hero">
        <div class="container mx-auto px-4 text-center">
            <p class="text-amber-300 text-xl font-semibold mb-3">рж╕рж╛ржлрж▓рзНржпрзЗрж░ рззрзк ржмржЫрж░рзЗрж░ ржкржержЪрж▓рж╛</p>
            <h2 class="text-4xl md:text-6xl font-extrabold mb-4 leading-tight">
                рж╕рж┐ржЯрж┐ ржЗржиржлрж░ржорзЗрж╢ржи ржЯрзЗржХржирзЛрж▓ржЬрж┐ ржЗржирзНрж╕ржЯрж┐ржЯрж┐ржЙржЯ             </h2>
            <p class="text-xl md:text-2xl mb-8">
                ржЯрзЗржХржирзЛрж▓ржЬрж┐ ржирж┐рж░рзНржнрж░ ржЙржЬрзНржЬрзНржмрж▓ ржнржмрж┐рж╖рзНржпрждрзЗрж░ ржкржерзЗ ржЖржкржирж╛рж░ ржкрзНрж░ржержо ржкржжржХрзНрж╖рзЗржкред
            </p>
            <a href="#courses" class="bg-amber-400 text-indigo-900 text-xl font-bold px-8 py-3 rounded-xl shadow-xl hover:bg-amber-300 transform hover:scale-105 transition duration-300 inline-block">
                ржЖрж╕ржирзНржи рж╢рж┐ржХрзНрж╖рж╛ржмрж░рзНрж╖рзЗ ржнрж░рзНрждрж┐ ржЪрж▓ржЫрзЗ! 
            </a>
            <p class="mt-4 text-lg">SSC (ржХрж╛рж░рж┐ржЧрж░рж┐), HSC BMT, ржбрж┐ржкрзНрж▓рзЛржорж╛ ржЗржЮрзНржЬрж┐ржирж┐ржпрж╝рж╛рж░рж┐ржВ ржУ ржПржЧрзНрж░рж┐ржХрж╛рж▓ржЪрж╛рж░рзЗ ржнрж░рзНрждрж┐ ржЪрж▓ржЫрзЗред</p>
        </div>
    </section>

    <!-- ржЧрзНржпрж╛рж▓рж╛рж░рж┐ рж╕рзЗржХрж╢ржи (ржЫржмрж┐ржмрж┐рж╣рзАржи - ржЗржорзЛржЬрж┐/ржЖржЗржХржи ржирж┐рж░рзНржнрж░) -->
    <section id="gallery" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold text-gray-800 section-header mx-auto fade-in">ржЖржорж╛ржжрзЗрж░ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржирзЗрж░ ржХрж┐ржЫрзБ ржЪрж┐рждрзНрж░ (рж╕рзБржмрж┐ржзрж╛рж╕ржорзВрж╣)</h3>

            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-8">
                
                <!-- ржХрж╛рж░рзНржб рзз: рж╢рзНрж░рзЗржгрж┐ржХржХрзНрж╖ ржУ ржЕржирзНржпрж╛ржирзНржп ржХржХрзНрж╖ -->
                <div class="rounded-xl shadow-lg hover:shadow-2xl card-hover fade-in gallery-card border border-indigo-200 bg-indigo-50">
                    <div class="h-32 md:h-40 flex flex-col items-center justify-center bg-indigo-100/70 p-4 rounded-t-xl">
                        <span class="text-5xl md:text-6xl text-indigo-700">ЁЯУЪ</span>
                        <h4 class="text-xl font-bold text-indigo-800 mt-2">рж╢рзНрж░рзЗржгрж┐ржХржХрзНрж╖ ржУ рж░рзВржорж╕ржорзВрж╣</h4>
                    </div>
                    <div class="p-3 text-center text-base font-medium text-indigo-700 gallery-description">
                            <p>рзоржЯрж┐ рж╕рзБрж╕ржЬрзНржЬрж┐ржд рж╢рзНрж░рзЗржгрж┐ржХржХрзНрж╖, ржкрзНрж░ржзрж╛ржи рж╢рж┐ржХрзНрж╖ржХрзЗрж░ ржХржХрзНрж╖, рж╢рж┐ржХрзНрж╖ржХ рж▓рж╛ржЙржЮрзНржЬ ржПржмржВ ржкрж░рж┐ржЪрзНржЫржирзНржи ржУржпрж╝рж╛рж╢рж░рзБржорзЗрж░ ржмрзНржпржмрж╕рзНржерж╛ред</p>
                    </div>
                </div>

                <!-- ржХрж╛рж░рзНржб рзи: ржХржорзНржкрж┐ржЙржЯрж╛рж░ рж▓рзНржпрж╛ржм -->
                <div class="rounded-xl shadow-lg hover:shadow-2xl card-hover fade-in gallery-card border border-yellow-200 bg-yellow-50" style="transition-delay: 0.1s;">
                    <div class="h-32 md:h-40 flex flex-col items-center justify-center bg-yellow-100/70 p-4 rounded-t-xl">
                        <span class="text-5xl md:text-6xl text-yellow-700">ЁЯТ╗</span>
                        <h4 class="text-xl font-bold text-yellow-800 mt-2">ржЖржзрзБржирж┐ржХ рж▓рзНржпрж╛ржм</h4>
                    </div>
                    <div class="p-3 text-center text-base font-medium text-yellow-700 gallery-description">
                        <p>ржЖржзрзБржирж┐ржХ ржХржорзНржкрж┐ржЙржЯрж╛рж░ рж▓рзНржпрж╛ржм, рж╣рж╛ржЗ-рж╕рзНржкрж┐ржб ржЗржирзНржЯрж╛рж░ржирзЗржЯ рж╕рзБржмрж┐ржзрж╛ ржПржмржВ ржкрзНрж░рждрж┐ржЯрж┐ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАрж░ ржЬржирзНржп ржмрзНржпржХрзНрждрж┐ржЧржд ржХржорзНржкрж┐ржЙржЯрж╛рж░ред</p>
                    </div>
                </div>

                <!-- ржХрж╛рж░рзНржб рзй: ржмрзНржпржмрж╣рж╛рж░рж┐ржХ ржХрж╛ржЬ ржУ ржЧржмрзЗрж╖ржгрж╛ржЧрж╛рж░ -->
                <div class="rounded-xl shadow-lg hover:shadow-2xl card-hover fade-in gallery-card border border-green-200 bg-green-50" style="transition-delay: 0.2s;">
                    <div class="h-32 md:h-40 flex flex-col items-center justify-center bg-green-100/70 p-4 rounded-t-xl">
                        <span class="text-5xl md:text-6xl text-green-700">ЁЯзк</span>
                        <h4 class="text-xl font-bold text-green-800 mt-2">ржмрзНржпржмрж╣рж╛рж░рж┐ржХ рж╢рж┐ржХрзНрж╖рж╛</h4>
                    </div>
                    <div class="p-3 text-center text-base font-medium text-green-700 gallery-description">
                        <p>ржмрзНржпржмрж╣рж╛рж░рж┐ржХ ржХрзНрж▓рж╛рж╕ ржУ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ ржЬржирзНржп ржЙржирзНржирждржорж╛ржирзЗрж░ ржпржирзНрждрзНрж░ржкрж╛рждрж┐ ржУ ржмрж┐ржЬрзНржЮрж╛ржи ржЧржмрзЗрж╖ржгрж╛ржЧрж╛рж░ред</p>
                    </div>
                </div>

                <!-- ржХрж╛рж░рзНржб рзк: ржХрзНржпрж╛ржорзНржкрж╛рж╕ ржнрж┐ржЙ -->
                <div class="rounded-xl shadow-lg hover:shadow-2xl card-hover fade-in gallery-card border border-red-200 bg-red-50" style="transition-delay: 0.3s;">
                    <div class="h-32 md:h-40 flex flex-col items-center justify-center bg-red-100/70 p-4 rounded-t-xl">
                        <span class="text-5xl md:text-6xl text-red-700">ЁЯПЮя╕П</span>
                        <h4 class="text-xl font-bold text-red-800 mt-2">ржХрзНржпрж╛ржорзНржкрж╛рж╕ ржкрж░рж┐ржмрзЗрж╢</h4>
                    </div>
                    <div class="p-3 text-center text-base font-medium text-red-700 gallery-description">
                        <p>ржоржирзЛрж░ржо ржУ ржирж┐рж░рж╛ржкржж ржХрзНржпрж╛ржорзНржкрж╛рж╕, ржЦрзЗрж▓рж╛ржзрзБрж▓рж╛рж░ рж╕рзБржмрж┐ржзрж╛ ржПржмржВ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАржжрзЗрж░ ржЬржирзНржп ржкрж░рзНржпрж╛ржкрзНржд ржмрж╕рж╛рж░ рж╕рзНржерж╛ржиред</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб ржХржирзНржЯрзЗржЗржирж╛рж░ (рж▓ржЧржЗржи ржХрж░рж╛рж░ ржкрж░ ржжрзЗржЦрж╛ржирзЛрж░ ржЬржирзНржп) -->
    <section id="dashboard-view" class="py-16 bg-gray-100 hidden">
        <div class="container mx-auto px-4 text-center">
            <h3 class="text-3xl font-bold text-gray-800 section-header mx-auto">ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб</h3>
            <div id="dashboard-content" class="bg-white p-4 md:p-8 rounded-xl shadow-lg mt-8 text-left max-w-4xl mx-auto">
                <!-- ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб ржХржиржЯрзЗржирзНржЯ ржПржЦрж╛ржирзЗ JavaScript ржжрзНржмрж╛рж░рж╛ рж▓рзЛржб рж╣ржмрзЗ -->
            </div>
        </div>
    </section>


    <!-- ржХрзЛрж░рзНрж╕рзЗрж░ ржмрж┐ржмрж░ржг рж╕рзЗржХрж╢ржи -->
    <section id="courses" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold text-gray-800 section-header mx-auto fade-in">ржЖржорж╛ржжрзЗрж░ ржХрзЛрж░рзНрж╕рж╕ржорзВрж╣</h3>

            <!-- ржХрзЛрж░рзНрж╕ ржХрж╛рж░рзНржбржЧрзБрж▓рзЛ (ржПржЦржи рзкржЯрж┐ ржХрж╛рж░рзНржб: рзиxрзи ржмрж╛ рзкxрзз) -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mt-8">
                
                <!-- ржХрзЛрж░рзНрж╕ 0: SSC (рзпржо ржУ рззрзжржо) - ржХрж╛рж░рж┐ржЧрж░рж┐ -->
                <div class="bg-yellow-50 p-6 rounded-xl shadow-lg hover:shadow-2xl transition duration-300 border-t-4 border-yellow-600 card-hover fade-in">
                    <h4 class="text-2xl font-bold text-yellow-700 mb-4">ржПрж╕.ржПрж╕.рж╕рж┐ (ржХрж╛рж░рж┐ржЧрж░рж┐ рж╢рж╛ржЦрж╛) - рзпржо ржУ рззрзжржо рж╢рзНрж░рзЗржгрж┐</h4>
                    
                    <p class="text-base font-semibold text-yellow-800 mb-2 border-b border-yellow-300 pb-1">ржЖржмрж╢рзНржпрж┐ржХ ржЯрзЗржХржирзЛрж▓ржЬрж┐:</p>
                    <ul class="space-y-1 text-gray-700 list-inside text-sm">
                        <!-- 51918 & 51928 - Computer Application 1st & 2nd -->
                        <li class="flex items-center"><span class="text-yellow-600 mr-2">ЁЯТ╗</span> ржХржорзНржкрж┐ржЙржЯрж╛рж░ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи (ржХрзЛржб: рзлрззрзпрззрзо/рзлрззрзпрзирзо)</li>
                        <li class="flex items-center"><span class="text-yellow-600 mr-2">тЬФ</span> ржЕржирзНржпрж╛ржирзНржп ржЖржмрж╢рзНржпрж┐ржХ ржмрж┐рж╖ржпрж╝</li>
                    </ul>

                    <p class="text-base font-semibold text-yellow-800 mt-3 mb-2 border-b border-yellow-300 pb-1">ржЯрзНрж░рзЗржбрж╕ржорзВрж╣ (ржкрзНрж░ржержо ржУ ржжрзНржмрж┐рждрзАржпрж╝ ржкрждрзНрж░):</p>
                    <ul class="space-y-1 text-gray-700 list-inside text-sm">
                        <!-- 56211, 56221 -->
                        <li class="flex items-center"><span class="text-yellow-600 mr-2">тЪб</span> ржЬрзЗржирж╛рж░рзЗрж▓ ржЗрж▓рзЗржХрзНржЯрзНрж░ржирж┐ржХрзНрж╕ (рзлрзмрзирззрзз/рзлрзмрзирзирзз)</li>
                        <!-- 58111, 58121 -->
                        <li class="flex items-center"><span class="text-yellow-600 mr-2">ЁЯз╡</span> ржЕрзНржпрж╛ржкрж╛рж░рзЗрж▓ ржорзНржпрж╛ржирзБржлрзНржпрж╛ржХржЪрж╛рж░рж┐ржВ ржмрзЗрж╕рж┐ржХрж╕ (рзлрзорззрззрзз/рзлрзорззрзирзз)</li>
                        <!-- 58011, 58021 -->
                        <li class="flex items-center"><span class="text-yellow-600 mr-2">ЁЯРФ</span> ржкрзЛрж▓рзНржЯрзНрж░рж┐ рж░рж┐ржпрж╝рж╛рж░рж┐ржВ ржЕрзНржпрж╛ржирзНржб ржлрж╛рж░рзНржорж┐ржВ (рзлрзорзжрззрзз/рзлрзорзжрзирзз)</li>
                        <li class="flex items-center"><span class="text-yellow-600 mr-2">ЁЯМ▒</span> ржбрзНрж░рзЗрж╕ ржорзЗржХрж┐ржВ ржУ ржЕржирзНржпрж╛ржирзНржп</li>
                    </ul>

                    <p class="text-base font-semibold text-yellow-800 mt-3 mb-2 border-b border-yellow-300 pb-1">ржРржЪрзНржЫрж┐ржХ ржмрзЗрж╕рж┐ржХ ржмрж┐рж╖ржпрж╝ (ржпрзЗ ржХрзЛржирзЛ ржПржХржЯрж┐ рж╕рзЗржЯ):</p>
                    <ul class="space-y-1 text-gray-700 list-inside text-sm">
                        <!-- 51811/51821, 51812/51822, 51813/51823 -->
                        <li class="flex items-center"><span class="text-yellow-600 mr-2">тЮХ</span> ржЙржЪрзНржЪрждрж░ ржЧржгрж┐ржд рж╕рзЗржЯ (рзлрззрзорззрзз/рзлрззрзорзирзз)</li>
                        <li class="flex items-center"><span class="text-yellow-600 mr-2">ЁЯМ╛</span> ржХрзГрж╖рж┐рж╢рж┐ржХрзНрж╖рж╛ рж╕рзЗржЯ (рзлрззрзорззрзи/рзлрззрзорзирзи)</li>
                        <li class="flex items-center"><span class="text-yellow-600 mr-2">ЁЯФм</span> ржЬрзАржмржмрж┐ржЬрзНржЮрж╛ржи рж╕рзЗржЯ (рзлрззрзорззрзй/рзлрззрзорзирзй)</li>
                    </ul>

                    <p class="mt-3 text-sm font-bold text-yellow-700">ржбрж┐ржкрзНрж▓рзЛржорж╛ ржнрж░рзНрждрж┐рж░ ржЬржирзНржп ржмрж┐рж╢рзЗрж╖ рж╕рзБржмрж┐ржзрж╛ рж░ржпрж╝рзЗржЫрзЗред</p>
                </div>
                
                <!-- ржХрзЛрж░рзНрж╕ рзз: HSC (ржмрж┐.ржПржо.ржЯрж┐) -->
                <div class="bg-green-50 p-6 rounded-xl shadow-lg hover:shadow-2xl transition duration-300 border-t-4 border-green-600 card-hover fade-in">
                    <h4 class="text-2xl font-bold text-green-700 mb-4">ржПржЗржЪ.ржПрж╕.рж╕рж┐ (ржмрж┐.ржПржо.ржЯрж┐)</h4>
                    <ul class="space-y-2 text-gray-700 list-inside">
                        <li class="flex items-center"><span class="text-green-600 mr-2">тЬФ</span> ржХржорзНржкрж┐ржЙржЯрж╛рж░ ржЕржкрж╛рж░рзЗрж╢ржи ржЯрзЗржХржирзЛрж▓ржЬрж┐</li>
                        <li class="flex items-center"><span class="text-green-600 mr-2">тЬФ</span> рж╣рж┐ржЙржорзНржпрж╛ржи рж░рж┐рж╕рзЛрж░рзНрж╕ (HR) ржЯрзЗржХржирзЛрж▓ржЬрж┐</li>
                        <li class="flex items-center"><span class="text-green-600 mr-2">тЬФ</span> ржЙржжрзНржпрзЛржЧ ржЯрзЗржХржирзЛрж▓ржЬрж┐</li>
                    </ul>
                </div>

                <!-- ржХрзЛрж░рзНрж╕ рзи: ржбрж┐ржкрзНрж▓рзЛржорж╛ ржЗржи ржЗржЮрзНржЬрж┐ржирж┐ржпрж╝рж╛рж░рж┐ржВ (ржирждрзБржи ржЯрзЗржХржирзЛрж▓ржЬрж┐ ржпрзЛржЧ ржХрж░рж╛ рж╣рж▓рзЛ) -->
                <div class="bg-blue-50 p-6 rounded-xl shadow-lg hover:shadow-2xl transition duration-300 border-t-4 border-blue-600 card-hover fade-in">
                    <h4 class="text-2xl font-bold text-blue-700 mb-4">ржбрж┐ржкрзНрж▓рзЛржорж╛ ржЗржи ржЗржЮрзНржЬрж┐ржирж┐ржпрж╝рж╛рж░рж┐ржВ</h4>
                    <ul class="space-y-2 text-gray-700 list-inside">
                        <li class="flex items-center"><span class="text-blue-600 mr-2">тЪб</span> ржЗрж▓рзЗржХрзНржЯрзНрж░рж┐ржХрзНржпрж╛рж▓ ржЯрзЗржХржирзЛрж▓ржЬрж┐</li>
                        <li class="flex items-center"><span class="text-blue-600 mr-2">ЁЯПЧя╕П</span> рж╕рж┐ржнрж┐рж▓ ржЯрзЗржХржирзЛрж▓ржЬрж┐</li>
                        <li class="flex items-center"><span class="text-blue-600 mr-2">ЁЯЦея╕П</span> ржХржорзНржкрж┐ржЙржЯрж╛рж░ ржЯрзЗржХржирзЛрж▓ржЬрж┐</li>
                        <!-- ржирждрзБржи ржЯрзЗржХржирзЛрж▓ржЬрж┐ ржпрзЛржЧ ржХрж░рж╛ рж╣рж▓рзЛ -->
                        <li class="flex items-center"><span class="text-blue-600 mr-2">ЁЯУР</span> ржЖрж░рзНржХрж┐ржЯрзЗржХржЪрж╛рж░ ржЕрзНржпрж╛ржирзНржб ржЗржирзНржЯрзЗрж░рж┐ржпрж╝рж░ ржбрж┐ржЬрж╛ржЗржи ржЯрзЗржХржирзЛрж▓ржЬрж┐</li>
                    </ul>
                </div>

                <!-- ржХрзЛрж░рзНрж╕ рзй: ржбрж┐ржкрзНрж▓рзЛржорж╛ ржЗржи ржПржЧрзНрж░рж┐ржХрж╛рж▓ржЪрж╛рж░ -->
                <div class="bg-red-50 p-6 rounded-xl shadow-lg hover:shadow-2xl transition duration-300 border-t-4 border-red-600 card-hover fade-in">
                    <h4 class="text-2xl font-bold text-red-700 mb-4">ржбрж┐ржкрзНрж▓рзЛржорж╛ ржЗржи ржПржЧрзНрж░рж┐ржХрж╛рж▓ржЪрж╛рж░</h4>
                    <ul class="space-y-2 text-gray-700 list-inside">
                        <li class="flex items-center"><span class="text-red-600 mr-2">тЬФ</span> ржХрзГрж╖рж┐ ржУ ржлрж┐рж╢рж╛рж░рж┐ржЬ ржЯрзЗржХржирзЛрж▓ржЬрж┐</li>
                    </ul>
                </div>

            </div>
        </div>
    </section>

    <!-- ржмрзИрж╢рж┐рж╖рзНржЯрзНржпрзЗрж░ рж╕рзЗржХрж╢ржи -->
    <section id="features" class="py-16 bg-gray-50">
        <div class="container mx-auto px-4 text-center">
            <h3 class="text-3xl font-bold text-gray-800 section-header mx-auto fade-in">ржЖржорж╛ржжрзЗрж░ ржмрж┐рж╢рзЗрж╖ ржмрзИрж╢рж┐рж╖рзНржЯрзНржпрж╕ржорзВрж╣</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mt-8">
                
                <!-- ржмрзИрж╢рж┐рж╖рзНржЯрзНржп рзз -->
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 card-hover fade-in">
                    <div class="text-4xl text-amber-500 mb-3">ЁЯОУ</div>
                    <h4 class="text-xl font-semibold mb-2 text-gray-800">рззрзжрзж% рж╕рж╛ржлрж▓рзНржпрзЗрж░ ржирж┐рж╢рзНржЪржпрж╝рждрж╛</h4>
                    <p class="text-gray-600">ржнрж╛рж▓рзЛ ржлрж▓рж╛ржлрж▓рзЗрж░ ржЬржирзНржп рж╕рж░рзНржмрзЛржЪрзНржЪ рж╕рж╣ржпрзЛржЧрж┐рждрж╛ рж╕рж╣ рззрзжрзж% ржкрж╛рж╢рзЗрж░ ржирж┐рж╢рзНржЪржпрж╝рждрж╛ред</p>
                </div>

                <!-- ржмрзИрж╢рж┐рж╖рзНржЯрзНржп рзи -->
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 card-hover fade-in">
                    <div class="text-4xl text-amber-500 mb-3">тЭМ</div>
                    <h4 class="text-xl font-semibold mb-2 text-gray-800">ржкрзНрж░рж╛ржЗржнрзЗржЯржорзБржХрзНржд рж╢рж┐ржХрзНрж╖рж╛</h4>
                    <p class="text-gray-600">рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАржжрзЗрж░ржХрзЗ ржЖрж▓рж╛ржжрж╛ ржХрзЛржирзЛ ржкрзНрж░рж╛ржЗржнрзЗржЯ ржкржбрж╝рж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣ржпрж╝ ржирж╛тАФрж╕ржоржпрж╝ ржУ ржЕрж░рзНрже рж╕рж╛рж╢рзНрж░ржпрж╝ред</p>
                </div>

                <!-- ржмрзИрж╢рж┐рж╖рзНржЯрзНржп рзй -->
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 card-hover fade-in">
                    <div class="text-4xl text-amber-500 mb-3">ЁЯТ╗</div>
                    <h4 class="text-xl font-semibold mb-2 text-gray-800">ржирж┐ржпрж╝ржорж┐ржд ржмрзНржпржмрж╣рж╛рж░рж┐ржХ ржХрзНрж▓рж╛рж╕</h4>
                    <p class="text-gray-600">ржЖржзрзБржирж┐ржХ рж▓рзНржпрж╛ржмрзЗ ржжржХрзНрж╖ рж╢рж┐ржХрзНрж╖ржХрзЗрж░ рждрждрзНрждрзНржмрж╛ржмржзрж╛ржирзЗ рж╣рж╛рждрзЗ-ржХрж▓ржорзЗ (Practical) рж╢рж┐ржХрзНрж╖рж╛ред</p>
                </div>

                <!-- ржмрзИрж╢рж┐рж╖рзНржЯрзНржп рзк -->
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 card-hover fade-in">
                    <div class="text-4xl text-amber-500 mb-3">ЁЯЧУя╕П</div>
                    <h4 class="text-xl font-semibold mb-2 text-gray-800">ржЪрж╛ржХрж░рж┐ржЬрзАржмрзАржжрзЗрж░ ржмрж┐рж╢рзЗрж╖ рж╕рзБржмрж┐ржзрж╛</h4>
                    <p class="text-gray-600">ржХрж░рзНржоржЬрзАржмрзАржжрзЗрж░ ржЬржирзНржп ржЫрзБржЯрж┐рж░ ржжрж┐ржирзЗ ржХрзНрж▓рж╛рж╕ ржХрж░рж╛рж░ ржмрж┐рж╢рзЗрж╖ ржмрзНржпржмрж╕рзНржерж╛ рж░ржпрж╝рзЗржЫрзЗред</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ржпрзЛржЧрж╛ржпрзЛржЧрзЗрж░ рж╕рзЗржХрж╢ржи -->
    <section id="contact" class="py-16 bg-indigo-700 text-white">
        <div class="container mx-auto px-4 text-center">
            <h3 class="text-3xl font-bold section-header mx-auto border-amber-400 fade-in">ржнрж░рзНрждрж┐рж░ ржЬржирзНржп ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рзБржи</h3>
            <p class="text-xl mb-6 mt-4 fade-in">ржЖржкржирж╛рж░ ржЖрж╕ржи ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ ржжрзНрж░рзБржд ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рзБржиред</p>

            <div class="bg-indigo-800 p-8 rounded-xl shadow-2xl max-w-lg mx-auto fade-in">
                <p class="text-2xl font-bold mb-4">ржкрзНрж░рждрж┐рж╖рзНржарж╛ржи ржХрж╛рж░рзНржпрж╛рж▓ржпрж╝:</p>
                
                <!-- рж╕ржарж┐ржХ ржарж┐ржХрж╛ржирж╛ ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ -->
                <p class="text-lg mb-4 font-semibold text-amber-200">
                    House No: 435, Block: C, Ward No: 01, Sreepur Paurashava, Sreepur, Gazipur-1740.
                </p>

                <p class="text-2xl font-bold mt-6 mb-2">ржпрзЛржЧрж╛ржпрзЛржЧрзЗрж░ ржорзЛржмрж╛ржЗрж▓ ржиржорзНржмрж░:</p>
                <p class="text-4xl font-extrabold text-amber-400 mb-4">
                    рзжрззрзнрззрзж рзжрзнрзнрзйрзй рзи
                </p>
                <p class="text-xl font-bold mb-4">
                    рзжрззрзпрзкрзо рзжрзнрзнрзорзнрзй
                </p>

                <!-- Facebook ржмрж╛ржЯржи ржпрзЛржЧ ржХрж░рж╛ рж╣рж▓рзЛ -->
                <a href="https://www.facebook.com/city.information.technology" target="_blank" 
                   class="flex items-center justify-center bg-blue-600 text-white text-xl font-bold px-6 py-3 rounded-full shadow-xl hover:bg-blue-500 transition duration-300 block mt-6">
                    <i class="fab fa-facebook-f mr-3"></i>
                    ржЖржорж╛ржжрзЗрж░ ржлрзЗрж╕ржмрзБржХ ржкрзЗржЬ
                </a>

                <!-- ржпрзЛржЧрж╛ржпрзЛржЧрзЗрж░ CTA -->
                <a href="tel:+8801710077332" class="bg-amber-400 text-indigo-900 text-xl font-bold px-6 py-3 rounded-full shadow-xl hover:bg-amber-300 transition duration-300 block mt-4">
                    ржПржЦржиржЗ ржХрж▓ ржХрж░рзБржи
                </a>
            </div>
        </div>
    </section>

    <!-- ржлрзБржЯрж╛рж░ -->
    <footer class="bg-gray-900 text-gray-400 p-6 text-center text-sm">
        <div class="container mx-auto">
            &copy; рзирзжрзирзл рж╕рж┐ржЯрж┐ ржЗржиржлрж░ржорзЗрж╢ржи ржЯрзЗржХржирзЛрж▓ржЬрж┐ ржЗржирзНрж╕ржЯрж┐ржЯрж┐ржЙржЯред рж╕рж░рзНржмрж╕рзНржмрждрзНржм рж╕ржВрж░ржХрзНрж╖рж┐рждред
            <!-- ржлрзБржЯрж╛рж░рзЗрж░ ржарж┐ржХрж╛ржирж╛ ржУ ржХрзЛржб ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ -->
            <p class="mt-2">ржарж┐ржХрж╛ржирж╛: House No: 435, Block: C, Sreepur, Gazipur-1740.</p>
            <p class="mt-2">
                <a href="https://www.facebook.com/city.information.technology" target="_blank" class="text-indigo-400 hover:text-indigo-300 transition duration-300">
                    <i class="fab fa-facebook-f mr-1"></i> ржлрзЗрж╕ржмрзБржХ
                </a>
            </p>
        </div>
    </footer>

    <!-- рж╕рзНржХрзНрж░рж┐ржкрзНржЯ -->
    <script>
        // DOM ржЙржкрж╛ржжрж╛ржи ржирж┐рж░рзНржмрж╛ржЪржи
        const authModal = document.getElementById('auth-modal');
        const loginBtn = document.getElementById('login-btn');
        const signupBtn = document.getElementById('signup-btn');
        const closeBtn = document.querySelector('.close-btn');
        const authForm = document.getElementById('auth-form');
        const authTitle = document.getElementById('auth-title');
        const authSubmit = document.getElementById('auth-submit');
        const authSubmitText = document.getElementById('auth-submit-text');
        const authSpinner = document.getElementById('auth-spinner');
        const authError = document.getElementById('auth-error');
        const roleSelection = document.getElementById('role-selection');
        const authButtons = document.getElementById('auth-buttons');
        const userInfo = document.getElementById('user-info');
        const signoutBtn = document.getElementById('signout-btn');
        const dashboardView = document.getElementById('dashboard-view');
        const dashboardContent = document.getElementById('dashboard-content');
        const welcomeMessage = document.getElementById('welcome-message');
        const extraSignupFields = document.getElementById('extra-signup-fields');
        const captchaSection = document.getElementById('captcha-section');
        const roleRadios = document.querySelectorAll('input[name="userRole"]');

        const authEmailInput = document.getElementById('auth-email');
        const authPasswordInput = document.getElementById('auth-password');
        const authNameInput = document.getElementById('auth-name');
        const authBoardIdInput = document.getElementById('auth-board-id');
        const authBirthIdInput = document.getElementById('auth-birth-id');
        const captchaQuestionSpan = document.getElementById('captcha-question');
        const captchaAnswerInput = document.getElementById('captcha-answer');

        // Captcha variable
        window.captchaAnswer = 0;
        let isLoginMode = true; // ржкрзНрж░рж╛ржержорж┐ржХ ржорзЛржб рж▓ржЧржЗржи
        
        // Gemini API Setup
        const apiKey = ""; 
        const geminiApiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

        // Function for exponential backoff delay
        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // Function to call the Gemini API with backoff (Completed)
        async function callGeminiAPI(systemInstruction, userQuery) {
            const maxRetries = 5;
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const payload = {
                        contents: [{ parts: [{ text: userQuery }] }],
                        tools: [{ "google_search": {} }], // Use Google Search for grounding
                        systemInstruction: {
                            parts: [{ text: systemInstruction }]
                        },
                    };

                    const response = await fetch(geminiApiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (response.ok) {
                        const result = await response.json();
                        const candidate = result.candidates?.[0];

                        if (candidate && candidate.content?.parts?.[0]?.text) {
                            return candidate.content.parts[0].text;
                        }
                        throw new Error("Invalid API response structure.");
                    } else if (response.status === 429) {
                        console.warn(`Rate limit exceeded. Retrying in ${Math.pow(2, i) * 1000}ms...`);
                        await delay(Math.pow(2, i) * 1000 + Math.random() * 1000); // Exponential backoff with jitter
                    } else {
                        throw new Error(`API call failed with status: ${response.status}`);
                    }
                } catch (error) {
                    if (i === maxRetries - 1) {
                        console.error("Gemini API call failed after multiple retries:", error);
                        return "ржжрзБржГржЦрж┐ржд, ржПржЖржЗ ржкрж░рж┐рж╖рзЗржмрж╛ ржмрж░рзНрждржорж╛ржирзЗ ржЙржкрж▓ржмрзНржз ржиржпрж╝ред ржкрж░рзЗ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред"; // Sorry, AI service is not available now. Try later.
                    }
                    await delay(Math.pow(2, i) * 1000 + Math.random() * 500);
                }
            }
            return "ржжрзБржГржЦрж┐ржд, ржПржЖржЗ ржкрж░рж┐рж╖рзЗржмрж╛ ржерзЗржХрзЗ ржХрзЛржирзЛ ржЙрждрзНрждрж░ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯржирж┐ред"; // Sorry, no answer received from AI service.
        }

        // ржХрзНржпрж╛ржкржЪрж╛ рждрзИрж░рж┐ ржХрж░рж╛
        function generateCaptcha() {
            const num1 = Math.floor(Math.random() * 10) + 1;
            const num2 = Math.floor(Math.random() * 10) + 1;
            window.captchaAnswer = num1 + num2;
            captchaQuestionSpan.textContent = `${num1} + ${num2} = ?`;
            captchaAnswerInput.value = '';
        }

        // ржЗржЙржЬрж╛рж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржбрзЗржЯрж╛ Firestore ржП рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛
        async function saveUserProfile(uid, role, name, boardId = null, birthId = null) {
            if (!window.db || !window.appId) return;
            const userRef = doc(window.db, `artifacts/${window.appId}/users/${uid}/user_data/profile`);
            
            const profileData = {
                role: role,
                name: name,
                email: window.auth.currentUser.email,
                lastLogin: new Date().toISOString()
            };

            if (role === 'student') {
                profileData.boardId = boardId;
                profileData.birthId = birthId;
            }

            try {
                await setDoc(userRef, profileData, { merge: true });
                console.log("User profile saved successfully.");
                return true;
            } catch (error) {
                console.error("Error saving user profile:", error);
                return false;
            }
        }

        // рж▓ржЧржЗржи рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░
        async function handleLogin(email, password) {
            try {
                const userCredential = await signInWithEmailAndPassword(window.auth, email, password);
                const user = userCredential.user;
                // рж▓ржЧржЗржи рж╕ржлрж▓ рж╣рж▓рзЗ UI ржЖржкржбрзЗржЯ рж╣ржмрзЗ onAuthStateChanged listener ржПрж░ ржорж╛ржзрзНржпржорзЗ
                return true;
            } catch (error) {
                let errorMessage = "рж▓ржЧржЗржи ржмрзНржпрж░рзНрже рж╣ржпрж╝рзЗржЫрзЗред ржЗржорзЗржЗрж▓ ржмрж╛ ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржнрзБрж▓ред";
                if (error.code === 'auth/user-not-found') {
                    errorMessage = "ржПржЗ ржЗржорзЗржЗрж▓ ржжрж┐ржпрж╝рзЗ ржХрзЛржирзЛ ржЗржЙржЬрж╛рж░ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ржирж┐ред";
                } else if (error.code === 'auth/wrong-password') {
                    errorMessage = "ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржнрзБрж▓ред";
                }
                authError.textContent = errorMessage;
                authError.classList.remove('hidden');
                return false;
            }
        }

        // рж╕рж╛ржЗржиржЖржк рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░
        async function handleSignUp(email, password, name, role, boardId, birthId, captchaResponse) {
            // ржХрзНржпрж╛ржкржЪрж╛ ржЪрзЗржХ (рж╢рзБржзрзБржорж╛рждрзНрж░ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАрж░ ржЬржирзНржп)
            if (role === 'student' && parseInt(captchaResponse) !== window.captchaAnswer) {
                authError.textContent = "ржХрзНржпрж╛ржкржЪрж╛ ржЙрждрзНрждрж░ ржнрзБрж▓ рж╣ржпрж╝рзЗржЫрзЗред ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред";
                authError.classList.remove('hidden');
                generateCaptcha(); // ржирждрзБржи ржХрзНржпрж╛ржкржЪрж╛ рждрзИрж░рж┐
                return false;
            }

            try {
                const userCredential = await createUserWithEmailAndPassword(window.auth, email, password);
                const user = userCredential.user;

                // ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг
                await saveUserProfile(user.uid, role, name, boardId, birthId);

                // рж╕ржлрж▓ рж╕рж╛ржЗржиржЖржкрзЗрж░ ржкрж░ onAuthStateChanged listener UI ржЖржкржбрзЗржЯ ржХрж░ржмрзЗ
                return true;
            } catch (error) {
                let errorMessage = "рж╕рж╛ржЗржиржЖржк ржмрзНржпрж░рзНрже рж╣ржпрж╝рзЗржЫрзЗред";
                if (error.code === 'auth/email-already-in-use') {
                    errorMessage = "ржПржЗ ржЗржорзЗржЗрж▓ржЯрж┐ ржЗрждрж┐ржоржзрзНржпрзЗржЗ ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝рзЗржЫрзЗред рж▓ржЧржЗржи ржХрж░рзБржиред";
                } else if (error.code === 'auth/weak-password') {
                    errorMessage = "ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржбржЯрж┐ ржЦрзБржмржЗ ржжрзБрж░рзНржмрж▓ред ржХржоржкржХрзНрж╖рзЗ рзм ржЕржХрзНрж╖рж░рзЗрж░ ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржжрж┐ржиред";
                }
                authError.textContent = errorMessage;
                authError.classList.remove('hidden');
                return false;
            }
        }

        // ржоржбрж╛рж▓ UI ржПржмржВ ржорзЛржб ржкрж░рж┐ржмрж░рзНрждржи
        function setModalMode(isLogin) {
            isLoginMode = isLogin;
            authForm.reset();
            authError.classList.add('hidden');
            
            const titleText = isLogin ? "ржЗржЙржЬрж╛рж░ рж▓ржЧржЗржи" : "ржЗржЙржЬрж╛рж░ рж╕рж╛ржЗржиржЖржк";
            const buttonText = isLogin ? "рж▓ржЧржЗржи ржХрж░рзБржи" : "рж╕рж╛ржЗржиржЖржк ржХрж░рзБржи";
            
            authTitle.textContent = titleText;
            authSubmitText.textContent = buttonText;
            authNameInput.closest('div').classList.toggle('hidden', isLogin);
            roleSelection.classList.toggle('hidden', isLogin);
            
            // рж╕рж╛ржЗржиржЖржк ржорзЛржбрзЗ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАрж░ ржЬржирзНржп ржЕрждрж┐рж░рж┐ржХрзНржд ржлрж┐рж▓рзНржб ржжрзЗржЦрж╛ржирзЛ
            const selectedRole = document.querySelector('input[name="userRole"]:checked')?.value || 'student';
            const isStudent = selectedRole === 'student' && !isLogin;

            extraSignupFields.classList.toggle('hidden', !isStudent);
            captchaSection.classList.toggle('hidden', !isStudent);
            
            if (!isLogin) {
                generateCaptcha();
            }

            // рж▓ржЧржЗржирзЗрж░ рж╕ржорзЯ ржЕрждрж┐рж░рж┐ржХрзНржд ржлрж┐рж▓рзНржб ржжрж░ржХрж╛рж░ ржирзЗржЗ
            authBoardIdInput.required = isStudent;
            authBirthIdInput.required = isStudent;
            captchaAnswerInput.required = isStudent;
        }

        // рж░рзЛрж▓ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░ (рж╢рзБржзрзБржорж╛рждрзНрж░ рж╕рж╛ржЗржиржЖржк ржорзЛржбрзЗ)
        roleRadios.forEach(radio => {
            radio.addEventListener('change', (e) => {
                if (!isLoginMode) {
                    const isStudent = e.target.value === 'student';
                    extraSignupFields.classList.toggle('hidden', !isStudent);
                    captchaSection.classList.toggle('hidden', !isStudent);
                    
                    if (isStudent) {
                        generateCaptcha();
                    }

                    // ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝рждрж╛ рж╕рзЗржЯ ржХрж░рж╛
                    authBoardIdInput.required = isStudent;
                    authBirthIdInput.required = isStudent;
                    captchaAnswerInput.required = isStudent;
                }
            });
        });

        // ржлрж░рзНржо рж╕рж╛ржмржорж┐ржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░
        authForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            authError.classList.add('hidden');
            
            const email = authEmailInput.value.trim();
            const password = authPasswordInput.value.trim();
            const name = authNameInput.value.trim();
            const role = document.querySelector('input[name="userRole"]:checked')?.value;
            const boardId = authBoardIdInput.value.trim();
            const birthId = authBirthIdInput.value.trim();
            const captchaResponse = captchaAnswerInput.value.trim();

            if (!email || !password || (!isLoginMode && !name)) {
                authError.textContent = "ржжржпрж╝рж╛ ржХрж░рзЗ рж╕ржм ржлрж┐рж▓рзНржб ржкрзВрж░ржг ржХрж░рзБржиред";
                authError.classList.remove('hidden');
                return;
            }

            // рж╕рзНржкрж┐ржирж╛рж░ ржЪрж╛рж▓рзБ
            authSubmitText.textContent = isLoginMode ? "рж▓ржЧржЗржи рж╣ржЪрзНржЫрзЗ..." : "рж╕рж╛ржЗржиржЖржк рж╣ржЪрзНржЫрзЗ...";
            authSpinner.classList.remove('hidden');
            authSubmit.disabled = true;

            let success = false;
            
            if (isLoginMode) {
                success = await handleLogin(email, password);
            } else {
                success = await handleSignUp(email, password, name, role, boardId, birthId, captchaResponse);
            }

            // рж╕рзНржкрж┐ржирж╛рж░ ржмржирзНржз
            authSubmitText.textContent = isLoginMode ? "рж▓ржЧржЗржи ржХрж░рзБржи" : "рж╕рж╛ржЗржиржЖржк ржХрж░рзБржи";
            authSpinner.classList.add('hidden');
            authSubmit.disabled = false;

            if (success) {
                authModal.style.display = 'none';
            }
        });

        // рж╕рж╛ржЗржиржЖржЙржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░
        signoutBtn.addEventListener('click', async () => {
            try {
                await window.auth.signOut();
                console.log("User signed out.");
            } catch (error) {
                console.error("Signout failed:", error);
            }
        });

        // ржоржбрж╛рж▓ ржЦрзЛрж▓рж╛рж░ ржЗржнрзЗржирзНржЯ
        loginBtn.addEventListener('click', () => {
            if (window.isAuthReady) {
                setModalMode(true);
                authModal.style.display = 'block';
            }
        });

        signupBtn.addEventListener('click', () => {
            if (window.isAuthReady) {
                setModalMode(false);
                authModal.style.display = 'block';
            }
        });

        // ржоржбрж╛рж▓ ржмржирзНржзрзЗрж░ ржЗржнрзЗржирзНржЯ
        closeBtn.addEventListener('click', () => {
            authModal.style.display = 'none';
        });
        window.onclick = function(event) {
            if (event.target == authModal) {
                authModal.style.display = 'none';
            }
        };

        // UI ржЖржкржбрзЗржЯ ржлрж╛ржВрж╢ржи
        function updateUIForUser() {
            if (!window.isAuthReady) return;

            const user = window.auth?.currentUser;
            const role = window.currentUserRole;
            const userName = window.currentUserName;

            if (user && !user.isAnonymous) {
                // рж▓ржЧржЗржи ржХрж░рж╛ ржЗржЙржЬрж╛рж░
                authButtons.classList.add('hidden');
                userInfo.classList.remove('hidden');
                userInfo.classList.add('flex');
                
                welcomeMessage.textContent = `рж╕рзНржмрж╛ржЧрждржо, ${userName} (${role === 'student' ? 'рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА' : 'рж╢рж┐ржХрзНрж╖ржХ'})!`;

                // ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб ржжрзЗржЦрж╛ржУ
                dashboardView.classList.remove('hidden');
                renderDashboard(role);
            } else {
                // рж▓ржЧржЖржЙржЯ ржХрж░рж╛ ржмрж╛ ржЕрзНржпрж╛ржирзЛржирж┐ржорж╛рж╕ ржЗржЙржЬрж╛рж░
                authButtons.classList.remove('hidden');
                userInfo.classList.add('hidden');
                userInfo.classList.remove('flex');
                dashboardView.classList.add('hidden');
            }

            // ржЧрзНржпрж╛рж▓рж╛рж░рж┐ ржУ ржЕржирзНржпрж╛ржирзНржп рж╕рзЗржХрж╢ржиржЧрзБрж▓рзЛрждрзЗ ржлрзЗржб-ржЗржи ржЕрзНржпрж╛ржирж┐ржорзЗрж╢ржи ржпрзЛржЧ ржХрж░рж╛
            document.querySelectorAll('.fade-in').forEach(el => el.classList.add('appear'));
        }
        
        // ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб ржХржирзНржЯрзЗржирзНржЯ рж░рзЗржирзНржбрж╛рж░ ржХрж░рж╛
        function renderDashboard(role) {
            dashboardContent.innerHTML = `
                <h4 class="text-2xl font-bold mb-4 text-indigo-700">рж╕рзНржмрж╛ржЧрждржо, ${window.currentUserName}!</h4>
                <p class="mb-4 text-gray-700">ржЖржкржирж╛рж░ ржЗржЙржЬрж╛рж░ ржЖржЗржбрж┐: <code class="text-sm bg-gray-200 p-1 rounded-md">${window.currentUserId}</code></p>
            `;

            if (role === 'student') {
                renderStudentDashboard();
            } else if (role === 'teacher') {
                renderTeacherDashboard();
            }
        }
        
        // рж╕рзНржЯрзБржбрзЗржирзНржЯ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб: AI Academic Assistant
        function renderStudentDashboard() {
            dashboardContent.innerHTML += `
                <div class="mt-8">
                    <h5 class="text-xl font-bold text-green-700 mb-4 border-b pb-2">ржПржЖржЗ ржПржХрж╛ржбрзЗржорж┐ржХ рж╕рж╣рж╛ржпрж╝ржХ</h5>
                    <p class="mb-4 text-gray-600">ржЖржорж╛ржжрзЗрж░ ржХрзЛрж░рзНрж╕ ржмрж╛ ржХрж╛рж░рж┐ржЧрж░рж┐ ржмрж┐рж╖ржпрж╝ржмрж╕рзНрждрзБ ржирж┐ржпрж╝рзЗ ржпрзЗржХрзЛржирзЛ ржкрзНрж░рж╢рзНржи ржХрж░рзБржиред ржПржЖржЗ ржЖржкржирж╛ржХрзЗ рж╕ржарж┐ржХ ржЙрждрзНрждрж░ ржЦрзБржБржЬрзЗ ржжрзЗржмрзЗред</p>
                    
                    <div id="ai-chat-box" class="chat-container">
                        <div class="ai-message chat-message">
                            ржиржорж╕рзНржХрж╛рж░! ржЖржорж┐ рж╕рж┐ржЯрж┐ржЖржЗржЯрж┐ржЖржЗ-ржПрж░ ржПржЖржЗ рж╕рж╣ржХрж╛рж░рзАред ржЖржкржирж┐ ржПрж╕ржПрж╕рж╕рж┐ ржЯрзНрж░рзЗржб, ржбрж┐ржкрзНрж▓рзЛржорж╛ ржмрж╛ ржЕржирзНржп ржпрзЗржХрзЛржирзЛ ржмрж┐рж╖ржпрж╝рзЗ ржкрзНрж░рж╢рзНржи ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред
                        </div>
                    </div>
                    
                    <div class="mt-4 flex space-x-2">
                        <input type="text" id="ai-input" placeholder="ржЖржкржирж╛рж░ ржкрзНрж░рж╢рзНржиржЯрж┐ рж▓рж┐ржЦрзБржи..." class="w-full p-3 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <button id="ai-send-btn" class="bg-indigo-600 text-white p-3 rounded-r-lg font-bold hover:bg-indigo-500 transition duration-300 flex items-center justify-center">
                            <span id="ai-spinner" class="hidden loader mr-2"></span>
                            <span>ржЬрж┐ржЬрзНржЮрж╛рж╕рж╛ ржХрж░рзБржи</span>
                        </button>
                    </div>
                </div>
            `;

            const aiChatBox = document.getElementById('ai-chat-box');
            const aiInput = document.getElementById('ai-input');
            const aiSendBtn = document.getElementById('ai-send-btn');
            const aiSpinner = document.getElementById('ai-spinner');

            aiSendBtn.addEventListener('click', async () => {
                const userQuery = aiInput.value.trim();
                if (!userQuery) return;
                
                // ржЗржЙржЬрж╛рж░ ржорзЗрж╕рзЗржЬ ржбрж┐рж╕ржкрзНрж▓рзЗ
                const userMsgEl = document.createElement('div');
                userMsgEl.className = 'user-message chat-message';
                userMsgEl.textContent = userQuery;
                aiChatBox.appendChild(userMsgEl);
                aiChatBox.scrollTop = aiChatBox.scrollHeight;
                aiInput.value = '';

                // ржПржЖржЗ ржкрзНрж░рж╕рзЗрж╕рж┐ржВ рж╢рзБрж░рзБ
                aiSendBtn.disabled = true;
                aiSpinner.classList.remove('hidden');
                aiSendBtn.querySelector('span:last-child').textContent = 'ржкрзНрж░рж╕рзЗрж╕рж┐ржВ...';

                const systemPrompt = `ржЖржкржирж┐ рж╕рж┐ржЯрж┐ ржЗржиржлрж░ржорзЗрж╢ржи ржЯрзЗржХржирзЛрж▓ржЬрж┐ ржЗржирзНрж╕ржЯрж┐ржЯрж┐ржЙржЯ-ржПрж░ ржПржХржЬржи ржПржХрж╛ржбрзЗржорж┐ржХ рж╕рж╣ржХрж╛рж░рзАред ржмрж╛ржВрж▓рж╛ржпрж╝ ржЙрждрзНрждрж░ ржжрж┐ржиред ржЖржкржирж╛рж░ ржЙрждрзНрждрж░ ржЕржмрж╢рзНржпржЗ рж╕ржВржХрзНрж╖рж┐ржкрзНржд, рж╕рж╣рж╛ржпрж╝ржХ ржПржмржВ рж╢рж┐ржХрзНрж╖рж╛ржорзВрж▓ржХ рж╣ржмрзЗред ржпржжрж┐ ржкрзНрж░рж╢рзНржиржЯрж┐ ржЯрзЗржХржирзЛрж▓ржЬрж┐ ржмрж╛ ржПржХрж╛ржбрзЗржорж┐ржХ ржмрж┐рж╖ржпрж╝ рж╕ржорзНржкрж░рзНржХрж┐ржд ржирж╛ рж╣ржпрж╝, рждрж╛рж╣рж▓рзЗ ржмрж┐ржиржпрж╝рзЗрж░ рж╕рж╛ржерзЗ ржмрж▓рзБржи ржпрзЗ ржЖржкржирж┐ рж╢рзБржзрзБ рж╢рж┐ржХрзНрж╖рж╛ рж╕ржВржХрзНрж░рж╛ржирзНржд ржмрж┐рж╖ржпрж╝рзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред`;
                
                const aiResponse = await callGeminiAPI(systemPrompt, userQuery);

                // ржПржЖржЗ ржорзЗрж╕рзЗржЬ ржбрж┐рж╕ржкрзНрж▓рзЗ
                const aiMsgEl = document.createElement('div');
                aiMsgEl.className = 'ai-message chat-message';
                aiMsgEl.innerHTML = aiResponse.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/\n/g, '<br>');
                aiChatBox.appendChild(aiMsgEl);
                aiChatBox.scrollTop = aiChatBox.scrollHeight;

                // ржкрзНрж░рж╕рзЗрж╕рж┐ржВ рж╢рзЗрж╖
                aiSendBtn.disabled = false;
                aiSpinner.classList.add('hidden');
                aiSendBtn.querySelector('span:last-child').textContent = 'ржЬрж┐ржЬрзНржЮрж╛рж╕рж╛ ржХрж░рзБржи';
            });
        }
        
        // ржЯрж┐ржЪрж╛рж░ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб: ржирзЛржЯрж┐рж╢ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ
        let noticeUnsubscribe = null;

        function renderTeacherDashboard() {
            dashboardContent.innerHTML += `
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8">
                    <!-- ржирзЛржЯрж┐рж╢ ржкрзЛрж╕рзНржЯ рж╕рзЗржХрж╢ржи -->
                    <div>
                        <h5 class="text-xl font-bold text-red-700 mb-4 border-b pb-2">ржирждрзБржи ржирзЛржЯрж┐рж╢ ржкрзЛрж╕рзНржЯ ржХрж░рзБржи</h5>
                        <form id="notice-form" class="space-y-4 bg-red-50 p-4 rounded-lg border border-red-200">
                            <div>
                                <label for="notice-title" class="block text-gray-700 font-semibold mb-1">рж╢рж┐рж░рзЛржирж╛ржо:</label>
                                <input type="text" id="notice-title" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500" required>
                            </div>
                            <div>
                                <label for="notice-body" class="block text-gray-700 font-semibold mb-1">ржирзЛржЯрж┐рж╢рзЗрж░ ржмрж┐ржмрж░ржг:</label>
                                <textarea id="notice-body" rows="5" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500" required></textarea>
                            </div>
                            <button type="submit" id="notice-submit" class="bg-red-600 text-white p-2 rounded-lg font-bold hover:bg-red-500 transition duration-300 w-full">
                                ржирзЛржЯрж┐рж╢ ржкрзЛрж╕рзНржЯ ржХрж░рзБржи
                            </button>
                            <p id="notice-message" class="text-sm text-center text-green-600 hidden mt-2">ржирзЛржЯрж┐рж╢ рж╕ржлрж▓ржнрж╛ржмрзЗ ржкрзЛрж╕рзНржЯ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ!</p>
                        </form>
                    </div>

                    <!-- рж╕рж╛ржорзНржкрзНрж░рждрж┐ржХ ржирзЛржЯрж┐рж╢рж╕ржорзВрж╣ -->
                    <div>
                        <h5 class="text-xl font-bold text-indigo-700 mb-4 border-b pb-2">рж╕рж╛ржорзНржкрзНрж░рждрж┐ржХ ржирзЛржЯрж┐рж╢рж╕ржорзВрж╣</h5>
                        <div id="notice-list" class="space-y-3">
                            <p class="text-center text-gray-500">ржирзЛржЯрж┐рж╢ рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...</p>
                        </div>
                    </div>
                </div>
            `;
            
            // ржирзЛржЯрж┐рж╢ рж╕рж╛ржмржорж┐ржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░
            document.getElementById('notice-form').addEventListener('submit', async (e) => {
                e.preventDefault();
                const title = document.getElementById('notice-title').value.trim();
                const body = document.getElementById('notice-body').value.trim();
                const submitBtn = document.getElementById('notice-submit');
                const msgEl = document.getElementById('notice-message');

                submitBtn.disabled = true;
                submitBtn.textContent = 'ржкрзЛрж╕рзНржЯ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ...';
                msgEl.classList.add('hidden');

                if (!window.db || !window.appId) return;

                const noticesCollectionRef = collection(window.db, `artifacts/${window.appId}/public/data/notices`);
                
                try {
                    await addDoc(noticesCollectionRef, {
                        title: title,
                        body: body,
                        timestamp: new Date().toISOString(),
                        authorId: window.currentUserId,
                        authorName: window.currentUserName
                    });
                    
                    msgEl.textContent = 'ржирзЛржЯрж┐рж╢ рж╕ржлрж▓ржнрж╛ржмрзЗ ржкрзЛрж╕рзНржЯ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ!';
                    msgEl.classList.remove('hidden');
                    document.getElementById('notice-form').reset();
                } catch (error) {
                    console.error("Error posting notice:", error);
                    msgEl.textContent = 'ржкрзЛрж╕рзНржЯ ржХрж░рждрзЗ рж╕ржорж╕рзНржпрж╛ рж╣ржпрж╝рзЗржЫрзЗред';
                    msgEl.classList.remove('hidden');
                } finally {
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'ржирзЛржЯрж┐рж╢ ржкрзЛрж╕рзНржЯ ржХрж░рзБржи';
                }
            });

            // рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржирзЛржЯрж┐рж╢ рж▓рзЛржбрж┐ржВ (onSnapshot)
            if (noticeUnsubscribe) {
                noticeUnsubscribe();
            }

            if (window.db && window.appId) {
                const noticesCollectionRef = collection(window.db, `artifacts/${window.appId}/public/data/notices`);
                // Firestore-ржП orderBy ржмрзНржпржмрж╣рж╛рж░ ржПржбрж╝рж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ, рждрж╛ржЗ рж╕ржм ржбрзЗржЯрж╛ ржПржирзЗ JS-ржП рж╕рж░рзНржЯ ржХрж░рж╛ рж╣ржмрзЗ
                const q = query(noticesCollectionRef);

                noticeUnsubscribe = onSnapshot(q, (snapshot) => {
                    let notices = [];
                    snapshot.forEach((doc) => {
                        notices.push({ id: doc.id, ...doc.data() });
                    });

                    // JS-ржП ржЯрж╛ржЗржорж╕рзНржЯрзНржпрж╛ржорзНржк ржЕржирзБрж╕рж╛рж░рзЗ рж╕рж░рзНржЯ ржХрж░рж╛ (рж╕рж╛ржорзНржкрзНрж░рждрж┐ржХрждржо ржкрзНрж░ржержорзЗ)
                    notices.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
                    
                    const noticeList = document.getElementById('notice-list');
                    noticeList.innerHTML = '';
                    
                    if (notices.length === 0) {
                        noticeList.innerHTML = `<p class="text-center text-gray-500">ржПржЦржиржУ ржХрзЛржирзЛ ржирзЛржЯрж┐рж╢ ржкрзЛрж╕рзНржЯ ржХрж░рж╛ рж╣ржпрж╝ржирж┐ред</p>`;
                        return;
                    }
                    
                    notices.slice(0, 5).forEach(notice => { // рж╢рзБржзрзБржорж╛рждрзНрж░ ржкрзНрж░ржержо рзлржЯрж┐ ржжрзЗржЦрж╛ржирзЛ
                        const date = new Date(notice.timestamp).toLocaleDateString('bn-BD');
                        const time = new Date(notice.timestamp).toLocaleTimeString('bn-BD', { hour: '2-digit', minute: '2-digit' });
                        
                        const noticeEl = document.createElement('div');
                        noticeEl.className = 'bg-gray-50 p-3 rounded-lg border-l-4 border-indigo-500 shadow-sm';
                        noticeEl.innerHTML = `
                            <p class="text-lg font-bold text-indigo-800">${notice.title}</p>
                            <p class="text-gray-700 mt-1 text-sm">${notice.body}</p>
                            <p class="text-xs text-gray-500 mt-2">
                                ржкрзЛрж╕рзНржЯ ржХрж░рзЗржЫрзЗржи: ${notice.authorName} (${date} ${time})
                            </p>
                        `;
                        noticeList.appendChild(noticeEl);
                    });
                }, (error) => {
                    console.error("Error fetching notices:", error);
                    document.getElementById('notice-list').innerHTML = `<p class="text-center text-red-500">ржирзЛржЯрж┐рж╢ рж▓рзЛржб ржХрж░рждрзЗ рж╕ржорж╕рзНржпрж╛ рж╣ржпрж╝рзЗржЫрзЗред</p>`;
                });
            }
        }
        
        // ржпржЦржи ржЙржЗржирзНржбрзЛ рж▓рзЛржб рж╣ржпрж╝, UI ржЖржкржбрзЗржЯ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛
        if (window.isAuthReady) {
            updateUIForUser();
        } else {
            // ржпржжрж┐ onAuthStateChanged ржПржЦржиржУ ржлрж╛ржпрж╝рж╛рж░ ржирж╛ рж╣ржпрж╝рзЗ ржерж╛ржХрзЗ, ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рж╛ рж╣ржмрзЗ
            window.addEventListener('load', () => {
                updateUIForUser();
            });
        }
    </script>
</body>
</html>
